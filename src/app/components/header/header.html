<nav class="navbar navbar-custom d-flex justify-content-between align-items-center px-4">
  <a
    class="navbar-brand text-decoration-none d-flex align-items-center"
    role="button"
    aria-label="Go to home"
    [routerLink]="['/']"
  >
    <img
      src="/assets/logo.svg"
      alt="Movie App Logo"
      class="brand-logo me-2"
      width="50"
      height="50"
      onerror="this.style.display='none'"
    />
    <span class="brand-title" routerLinkActive="highlight" [routerLinkActiveOptions]="{exact:true}"
>Movie App</span>
  </a>

  <div class="d-flex align-items-center gap-3 ms-auto">
    <div class="dropdown">
      <button
        class="btn btn-sm btn-light dropdown-toggle language-btn"
        id="dropdownMenu2"
        data-bs-toggle="dropdown"
        aria-expanded="false"
        type="button"
      >
        {{ currentLang | uppercase }}
      </button>

      <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
        <li><button class="dropdown-item" type="button" (click)="setLanguage('en')">EN</button></li>
        <li><button class="dropdown-item" type="button" (click)="setLanguage('ar')">AR</button></li>
        <li><button class="dropdown-item" type="button" (click)="setLanguage('fr')">FR</button></li>
        <li><button class="dropdown-item" type="button" (click)="setLanguage('zh')">ZH</button></li>
      </ul>
    </div>

    <!-- Dark mode toggle -->
    <button
      class="btn btn-sm btn-light dark-toggle"
      type="button"
      (click)="toggleDarkMode()"
      [title]="isDark ? 'Switch to light mode' : 'Switch to dark mode'"
      aria-pressed="{{ isDark }}"
      aria-label="Toggle dark mode"
    >
      {{ isDark ? '‚òÄÔ∏è' : 'üåô' }}
    </button>

    <a
      [routerLink]="['/wishlist']"
      class="wishlist-link d-flex align-items-center text-decoration-none" routerLinkActive="highlight" [routerLinkActiveOptions]="{exact:true}"

    >
      <i class="bi bi-heart-fill me-2 text-white"></i>
      <span class="text-dark fw-bold">Wishlist</span>
      <span class="badge wishlist-badge ms-2">{{ (total$ | async) || 0 }}</span>
    </a>

    <div class="auth-actions d-flex align-items-center">
      <button
        *ngIf="!(isLoggedIn$ | async)"
        class="btn btn-sm btn-outline-primary me-2"
        [routerLink]="['/login']"
        routerLinkActive="highlight"
        [routerLinkActiveOptions]="{exact:true}"

      >
        Login
      </button>
      <a
        *ngIf="!(isLoggedIn$ | async)"
        [routerLink]="['/register']"
        class="btn btn-sm btn-outline-success me-2"
        routerLinkActive="highlight"
        [routerLinkActiveOptions]="{exact:true}"

      >
        Register
      </a>
      <button
        *ngIf="isLoggedIn$ | async"
        class="btn btn-sm btn-outline-secondary"
        (click)="logout()"
      >
        Logout
      </button>
    </div>
  </div>
</nav>
